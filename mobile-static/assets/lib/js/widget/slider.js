!function(e,t){var i=function(e,i){var a=this;i=i||{},a.data={dom:document.getElementById(e.replace(/^#/,"")),index:i.index||0,imgInit:i.imgInit||2,autoPlay:i.autoPlay||!1,switchTime:i.switchTime||3e3,animateTime:i.animateTime||400,dotsClass:i.dotsClass||"slider-dots",dotsSelectedId:i.dotsSelectedId||"slider-dot-select",showDot:i.showDot!==t?i.showDot:!0,slideEnd:i.slideEnd||null,slideStart:i.slideStart||null,_needPlay:!0,_direction:1,_jumpFlagOrigin:!1},a.init(),a.initEvent(),a.start()};i.prototype={constructor:i,moveFlag:!1,init:function(){var e=this,t=e.data;t.dom.className+=" slider";for(var i,a,d=t.dom.offsetWidth,s=(t.dom.offsetHeight,t.dom.children),n=document.createElement("div"),l=n.cloneNode(),o=document.createElement("b"),r=[],c=0,h=s.length;i=s[0];c++)i.className+=" slider-item",i.style.cssText+="width:"+d+"px",n.appendChild(i),n.setAttribute("class","slide-wrapper clearfloat"),l.appendChild(o.cloneNode()),a=i.getElementsByTagName("img")[0],c<t.imgInit?a&&!a.src&&a.getAttribute("lazyload")&&(a.src=a.getAttribute("lazyload")):r.push(a);n.style.width=d*h+"px",n.style.cssText+="position:relative;left:-"+t.index*d+"px;",l.className=t.dotsClass,t.showDot||(l.style.display="none"),t.dom.appendChild(n),t.dom.appendChild(l),t.wheel=n,t.items=n.children,t.length=t.items.length,1==t.length&&(l.style.display="none"),t.dots=l.children,t.dots.length>0&&(t.dots[t.index].className=t.dotsSelectedId),t.width=d,t.lazyImgs=r},initEvent:function(){var e=this,t=e.data,i=t.wheel;i.addEventListener("touchstart",function(e){t.pageX=e.touches[0].pageX,t.pageY=e.touches[0].pageY,t.S=!1,t.T=!1,t.X=0,t.wheel.style.webkitTransitionDuration="0ms"}),i.addEventListener("touchmove",function(i){e._closeCallFlag();var a=t.X=i.touches[0].pageX-t.pageX;if(!t.T){var d=Math.abs(a)<Math.abs(i.touches[0].pageY-t.pageY);d||clearTimeout(t.play),t.T=!0,t.S=d}t.S||(i.stopPropagation(),i.preventDefault(),e.moveFlag=!0,0==e.data.index||e.data.index==e.data.length-1?Math.abs(a)<100&&(t.wheel.style.left=a-t.index*t.width+"px"):t.wheel.style.left=a-t.index*t.width+"px")});var a=function(){t.S||e._slide(t.index+(t.X<=-20?Math.ceil(-t.X/t.width):t.X>20?-Math.ceil(t.X/t.width):0))};i.addEventListener("touchend",a),i.addEventListener("touchcancel",a),i.addEventListener("webkitTransitionEnd",function(){e.moveFlag=!1,t.showDot&&(t.dom.querySelector("."+t.dotsSelectedId).setAttribute("class",""),t.dots[t.index].className=t.dotsSelectedId),e._setTimeout(),e.data.slideEnd&&e.data.slideEnd.apply(e)})},_slide:function(e,t,i){var a=this,d=a.data,s=d.length;return e>-1&&s>e?a._move(e,i):e>=s?(a._move(s-(t?2:1),i),d._direction=-1):(a._move(t?1:0,i),d._direction=1),a.data.slideStart&&a.data.slideStart.apply(a),a},_move:function(e,t){var i=this,a=this.data,i=this,d=a.index;if(a.lazyImgs.length){var s=a.items[e].getElementsByTagName("img")[0];s&&!s.src&&(s.src=s.getAttribute("lazyload"))}a.index=e,1==t?(a.wheel.style.removeProperty("-webkit-transition"),a.wheel.style.cssText+="position:relative;left:-"+e*a.width+"px;",document.getElementById(a.dotsSelectedId).id="",a.dots[2].id=a.dotsSelectedId):-1==e||e==a.length?a.wheel.style.cssText+="-webkit-transition:"+a.animateTime+"ms;position:relative;left:-"+(e*a.width-100)+"px":(a.wheel.style.cssText+="-webkit-transition:"+a.animateTime+"ms;position:relative;left:-"+e*a.width+"px",3==d&&2==t&&a.slideEnd&&a.slideEnd.apply(i))},_closeCallFlag:function(){this.data._jumpFlagOrigin=!1},_openCallFlag:function(){this.data._jumpFlagOrigin=!0},_setTimeout:function(){var e=this,t=e.data;return t._needPlay&&t.autoPlay?(clearTimeout(t.play),t.play=setTimeout(function(){e._slide.call(e,t.index+t._direction,!0)},t.switchTime),e):e},_resize:function(){var e=this,t=e.data,i=t.dom.offsetWidth,a=t.items,d=document.createElement("b");t.length=$("#slider .slider-item").length;var s=t.length;if(!i)return e;t.width=i,clearTimeout(t.play);var n=document.querySelector(".slider-dots");n.innerHTML="";for(var l=0;s>l;l++)a[l].style.cssText+="width:"+i+"px;",n.appendChild(d.cloneNode());return t.dots=n.children,t.dots[t.index].id=t.dotsSelectedId,t.wheel.style.removeProperty("-webkit-transition"),t.wheel.style.cssText+="width:"+i*s+"px;position:relative;left:-"+t.index*i+"px;",t._direction=1,$(".slider-dots").html(),e._setTimeout(),e},start:function(){var e=this;return e.data._direction=1,e.data._needPlay=!0,e._setTimeout(),e},stop:function(){var e=this;return clearTimeout(e.data.play),e.data._needPlay=!1,e},prev:function(){return this._slide(this.data.index-1,!1)},next:function(){return this._slide(this.data.index+1,!1)},moveTo:function(e){return this._slide(e,!1)}},e.Slider=i}(window);