Jumei.widget("ui.circleNav",{init:function(t){this.options={id:"nav-btn",radius:50,animateTime:.3,baseDeg:30,hrefsText:[["",""],["",""],["",""],["",""],["",""]],touchSupport:!1,startDeg:0,offsetX:0,offsetY:0,intervalTime:100},this._super.call(this,t)},_create:function(){var t=this,e=this.options,i="";if(t.animateEnd=!1,t.toggleFlag=!1,!e.id||!document.getElementById(e.id.replace(/^#/,"")))return console.log("id或dom为null!"),!1;var a=t.element=$("#"+e.id);t.element.css("z-index",2);var s=$('<ul id="nav-items-box"></ul>');t.l=e.hrefsText.length,e.touchSupport&&(i="url-scheme");for(var n=0;n<t.l;n++){var o=e.hrefsText[n][0]?'href="'+e.hrefsText[n][0]+'"':"",r=e.hrefsText[n][1];s.append('<li class="item"><a class="'+i+'" '+o+' index="hrefid'+n+'">'+r+"</a></li>")}a.parent().append(s);var l=parseInt(a.css("bottom")),m=parseInt(a.css("right"));s.css({position:"absolute",bottom:l,right:m}),t.items=$(".item");var d=a.width(),h=t.items.width(),c=a.height(),f=t.items.height(),u=d/2-h/2,g=c/2-f/2;t.items.each(function(){$(this).css({position:"absolute",bottom:g+"px",right:u+"px",transition:"-webkit-transform "+e.animateTime+"s ease-out 0s","-webkit-transform":"translate3d(0px, 0px, 0px) rotateZ(720deg)"})}),t.addListener()},addListener:function(){var t=this,e=this.options;t.element.on("click",function(){t.animateEnd||(t.toggleFlag?(t.items.each(function(i){var a=this;setTimeout(function(){$(a).css({"-webkit-transform":"translate3d(0px, 0px, 0px) rotateZ(720deg)"}),t.animateEnd=!0,0==i&&(t.animateEnd=!1)},e.intervalTime*(t.l-1-i))}),t.toggleFlag=!1):(t.items.each(function(i){var a=this,s=i+e.startDeg,n=(e.offsetX-Math.cos(e.baseDeg*s*Math.PI/180)*e.radius).toFixed(1),o=(Math.sin(e.baseDeg*s*Math.PI/180)*e.radius+e.offsetY).toFixed(1);setTimeout(function(){$(a).css({"-webkit-transform":"translate3d("+-n+"px, "+-o+"px, 0px) rotateZ(0deg)"}),t.animateEnd=!0,i==t.l-1&&(t.animateEnd=!1)},e.intervalTime*i)}),t.toggleFlag=!0))})}});