function calldevice(fuc,parm,val){var agent=navigator.userAgent;if((agent.indexOf("iPhone")>-1||agent.indexOf("iPad")>-1)&&Jumei.checkPlatformWap)window.location.href="jmweb://"+fuc+"?"+parm+"="+val;else{var fuc="JMWebViewAndroid."+fuc+"(val)";fuc=eval(fuc)}}var JMWebView={_Bounce:!1,set bounce(t){calldevice("setWebViewBounce","bounce",t),this._Bounce=t},get bounce(){return this._Bounce}};JMWebView.toolbar={_Status:"hidden",_Color:"ffffff",_Share:"hidden",_Content:"shareContent",set status(t){calldevice("setToolbarStatus","toolbarstatus",t),this._Status=t},get status(){return this._Status},set color(t){this._Color=t,calldevice("setToolbarColor","toolbarcolor",t)},get color(){return this._Color},set share(t){calldevice("setToolbarShare","toolbarshare",t),this._Status=t},get share(){return this._Status},set shareContent(t){calldevice("setShareContent","shareContent",t),this._Content=t},get shareContent(){return this._Content}},JMWebView.title={_Status:"hidden",_Text:"title",_Color:"ffffff",set status(t){calldevice("setTitlebarStatus","titlebarstatus",t),this._Status=t},get status(){return this._Status},set text(t){this._Text=t,calldevice("setTitleText","titletext",t)},get text(){return this._Text},set color(t){this._Color=t,calldevice("setTitleColor","titlecolor",t)},get color(){return this._Color}},JMWebView.spinner={_Status:"hidden",set status(t){calldevice("setSpinnerStatus","spinnerstatus",t),this._Status=t},get status(){return this._Status}},JMWebView.topbar={_Status:"show",set status(t){calldevice("setTopbarStatus","topbarstatus",t),this._Status=t},get status(){return this._Status}},JMWebView.close=function(){var t=navigator.userAgent;(t.indexOf("iPhone")>-1||t.indexOf("iPad")>-1)&&Jumei.checkPlatformWap?window.location.href="jmweb://closeWebView":JMWebViewAndroid.closeWebView()};var Jumei=function(t,e){var n=this,i=Array.prototype.slice,o=Object.prototype,a=o.toString,r=t.document,c={version:"0.0.1",global:n,isBoolean:function(t){return"boolean"==typeof t},isNumber:function(t){return"number"==typeof t&&isFinite(t)},isString:function(t){return"string"==typeof t},isArray:"isArray"in Array?Array.isArray:function(t){return"[object Array]"===a.call(t)},isElement:function(t){return t?1===t.nodeType:!1},isFunction:"undefined"!=typeof r&&"function"==typeof r.getElementsByTagName("body")?function(t){return"[object Function]"===a.call(t)}:function(t){return"function"==typeof t},isObject:"[object Object]"===a.call(null)?function(t){return null!==t&&void 0!==t&&"[object Object]"===a.call(t)&&void 0===t.ownerDocument}:function(t){return"[object Object]"===a.call(t)},isPainObject:function(t){if("object"==typeof t&&null!==t){var e=Object.getPrototypeOf(t);return e===Object.prototype||null===e}return!1},makeArray:function(t){return i.call(t)},mix:function(t,e){var n,i=c.makeArray(arguments),o=1,a=i.length,r=c.isBoolean(i[a-1]);if(r===!0&&i.pop(),1===a)return t;for(;e=i[o];){for(n in e)!r&&n in t||(t[n]=e[n]);o++}return t},ready:function(t){try{/complete|loaded|interactive/.test(r.readyState)?t.call($):r.addEventListener("DOMContentLoaded",function(){t.call($)},!1)}catch(e){c.log(e)}},cache:function(){var t={},e=0,n="_gid";return function(i,o,a){var r=i[n]||(i[n]=++e),c=t[r]||(t[r]={});return void 0!==a&&(c[o]=a),null===a&&delete c[o],c[o]}}(),log:function(t,e){var n,i,o=t.stack,a=o.match(/http:.*\s/);e=e||1,a&&(n=a[0].replace(/(:\d+)?:\d+/gi,""),i=a[0].match(/:(\d+):/),i=i[1]),msg=t.message;var r=r||[];r.push(["_errorEvent",msg,n,i,e])},scale:e,getScale:function(){return c.scale},setScale:function(t){c.scale=t}};return c}(window,function(){var t=1,e=document.getElementById("wrapper"),n=document.getElementsByTagName("body")[0],i=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth,o=navigator.userAgent.toLowerCase();try{o.match(/(iphone|ipod|android|windows\s*phone|symbianos)/)?(window.localStorage&&window.localStorage.getItem("jumei_scale_jumei")?t=window.localStorage.getItem("jumei_scale_jumei"):(t=parseFloat(i/320),$(window).height()>$(window).width()?window.localStorage&&window.localStorage.setItem("jumei_scale_jumei",t):$(window).on("ortchange",function(){$(window).height()>$(window).width()&&(i=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth,t=parseFloat(i/320),e.style.zoom=t,n.style.display="block",window.localStorage&&window.localStorage.setItem("jumei_scale_jumei",t))})),o.match(/android\s*2.3/)&&o.match(/micromessenger/)&&(t=1),e&&(e.style.zoom=t,n.style.display="block")):($(window).resize(function(){i=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth,t=parseFloat(i/320),e&&(e.style.zoom=t,n.style.display="block")}),e&&(t=parseFloat(i/320),e.style.zoom=t,n.style.display="block"))}catch(a){i=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth,t=parseFloat(i/320),e&&(e.style.zoom=t,n.style.display="block")}return t}());!function(t){var e=function(e,n,i){return t.isPainObject(e)?!1 in e&&(e.enumerable=!0):e=n[i]={value:e,enumerable:!0,writable:!0},e},n=Object.getOwnPropertyNames(Function);t.mix(t,{create:function(i,o){try{if(1===arguments.length&&(o=i,i=Object),"function"!=typeof i)throw new Error("继承类必须是function");var a=i.prototype,r=o.statics;delete o.statics,Object.keys(o).forEach(function(n){var i=e(o[n],o,n);if(t.isFunction(i.value)&&t.isFunction(a[n])){var r=function(){return a[n].apply(this,arguments)},c=function(t){return a[n].apply(this,t)},u=i.value;i.value=function(){var t=this._super,e=this._superApply;this._super=r,this._superApply=c;var n=u.apply(this,arguments);return this._super=t,this._superApply=e,n}}});var c=function(){this.init.apply(this,arguments)};c.prototype=Object.create(a,o),c.prototype.constructor=c,t.isFunction(c.prototype.init)===!1&&(c.prototype.init=function(){i.apply(this,arguments)}),Object!==i&&Object.getOwnPropertyNames(i).forEach(function(t){-1===n.indexOf(t)&&Object.defineProperty(c,t,Object.getOwnPropertyDescriptor(i,t)||{})}),t.isPainObject(r)&&Object.keys(r).forEach(function(t){-1===n.indexOf(t)&&Object.defineProperty(c,t,e(r[t],r,t))})}catch(u){t.log(u)}return Object.freeze?Object.freeze(c):c}})}(Jumei),function(J){J.mix(J,{module:{},addModule:function(t,e){t&&"string"==typeof t&&J.register(t,e)},use:function(t,e,n){var i=J.getModule(t);i&&i.call(i,i,J.global,n),e&&J.ready(function(){e.call(i,i,J.global,n)})},register:function(t,e){if(!t||!t.length)return null;for(var n=t.split("."),i=J.module,o=null,a=0;a<n.length;++a)i[n[a]]=i[n[a]]||{},a==n.length-1&&(i[n[a]]=e),o=i,i=i[n[a]];return o},getModule:function(ns){if(!ns||!ns.length)return null;try{return eval("Jumei.module."+ns)}catch(e){J.log(e)}},getInstance:function(t,e){if(J.cache(t,"instance"))return J.cache(t,"instance").constructor(e),J.cache(t,"instance");var n=new t(e);return J.cache(t,"instance",n),n}})}(Jumei),function(t,e){var n=function(){},i=Array.prototype.slice,o=t.create({statics:{name:"widgetBase"},init:function(){this.options={},this.element={}},_setElement:function(t){this.element=t},_getElement:function(){return this.element},_setOption:function(e){t.mix(this.options,e,!0)},_getOption:function(){return this.options},_factory:function(e,n){try{this[e].apply(this,n)}catch(i){t.log(i)}},_destroy:n,_create:n,_init:n});t.mix(t,{parseTpl:function(t,e){var n="var __p=[];with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',i=new Function("obj",n);return e?i(e):i},widget:function(e,n,i){var a;a=i&&t.isFunction(i)?t.create(i,n):t.create(o,n),t.addModule(e,a),t.zeptoFn(e,a)},zeptoFn:function(t,n){var o=t.substring(0,1).toLowerCase()+t.substring(1),a=e.fn[o];o.indexOf("ui.")>-1&&(o=o.replace("ui.","")),e.fn[o]=function(t){var a,r,c=i.call(arguments,1),u="string"==typeof t&&t;return e.each(this,function(){if(e(this).data(o)?(r=e(this).data(o),r._setOption(t),r.element=this,r._create(t)):(r=new n(t),r.element=this,r._setOption(t),r._init(t),r._create(t),e(this).data(o,r)),"this"===u)return a=r,!1;if(u){if(r._factory(u,c),void 0!==a&&a!==r)return!1;a=void 0}}),void 0!==a?a:this},e.fn[o].noConflict=function(){return e.fn[o]=a,this}}})}(Jumei,$),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),function(t,e){t.mix(t,{setCookie:function(t,e,n,i,o,a){var r=new Date;r.setTime(r.getTime()),n&&(n=1e3*n*60*60*24);var c=new Date(r.getTime()+n);document.cookie=t+"="+escape(e)+(n?";expires="+c.toGMTString():"")+(i?";path="+i:"")+(o?";domain="+o:"")+(a?";secure":"")},getCookie:function(t){for(var e=document.cookie.split(";"),n="",i="",o="",a=!1,r=0;r<e.length;r++){if(n=e[r].split("="),i=n[0].replace(/^\s+|\s+$/g,""),i==t)return a=!0,n.length>1&&(o=unescape(n[1].replace(/^\s+|\s+$/g,""))),o;n=null,i=""}return a?void 0:null},changeScheme:function(t,n){n="undefined"!=typeof n?n:"href";for(var i=this,o=0;o<e(t).length;o++){var a=e(e(t)[o]).attr(n);e(e(t)[o]).attr(n,i.jumeimall2http(a))}},jumeimall2http:function(t){var e=location.search;e=e.replace("?","");var n=["label","partnerid","hash_id","hashid","brandid","productid"],o="",a="";for(i=0;i<n.length;i++)if(-1!=t.indexOf(n[i])){o=n[i];break}var r=new RegExp("\\?"+o+"=(.*)\\b"),c=t.match(r)?t.match(r)[1]:"",u=t.split(c)[0],l={"jumeimall://page/pop/list?partnerid=":"http://m.jumei.com/i/MobileWap/pop_list?t_lang=touch&partner_id=","jumeimall://page/deallist?label=":"http://m.jumei.com/i/mobilewap/activity_view?type=deal&t_lang=touch&label=","jumeimall://page/malllist?label=":"http://m.jumei.com/i/mobilewap/activity_view/?type=mall&t_lang=touch&label=","jumeimall://page/detail?hashid=":"http://m.jumei.com/i/MobileWap/deal_view?hash_id=","jumeimall://page/detail?productid=":"http://m.jumei.com/i/MobileWap/mall_view?product_id=","jumeimall://page/mall/flagship?brandid=":"http://m.jumei.com/products/"};return l[u]?(a=l[u]+c,""!=e&&(a=a.indexOf("?")>-1?a+"&"+e:a+"?"+e)):a="http://s.m.jumei.com/pages/941","jumeimall://page/mall/flagship?brandid="==u&&(a=l[u]+c+"-0-0.html?type=2"),this.checkPlatformWap()?a:t},getQueryString:function(t,e){var n=new RegExp(e+"=([^&#]+)\\b"),i=t.match(n);return null!=i?unescape(i[1]):null},checkPlatformWap:function(){if(/jumei/i.test(navigator.userAgent))return!1;var t=this.getQueryString(window.location.href,"platform");return"wap"==t?!0:!1},addWap:function(t){if(this.checkPlatformWap()){var n=location.search;e(t).each(function(){var t=e(this).attr("href");t.indexOf("?")>-1?t=t.replace("?",n+"&"):t.indexOf("#")>-1?t=t.replace("#",n+"#"):t+=n,e(this).attr("href",t)})}},os:function(){if(this.checkPlatformWap()===!0)return"wap";var t=navigator.userAgent.toLowerCase();return/android/g.test(t)?"android":/(iphone|ipod|ipad)/g.test(t)?"iphone":"qita"},ja:function(){var t=["_trackEvent"],e=[];if(arguments.length>0){e=arguments&&Jumei.isArray(arguments[0])?arguments[0]:arguments;for(var n=0;n<e.length;n++)if(3>n)if(0==n){var i=this.os();t.push(e[n]+"_"+i)}else t.push(e[n]);else Jumei.log("ga 多余参数"+arguments[n]);window._gaq=window._gaq||[],window._jaq=window._jaq||[],window._hmt=window._hmt||[],window._gaq.push(t),window._jaq.push(t),window._hmt.push(t)}}})}(Jumei,$,$(function(){window._gaq=window._gaq||[],window._gaq.push(["_setAccount","UA-10208510-2"]),window._gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.setAttribute("async","async"),t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("body")[0];e.appendChild(t)}(),window._hmt=window._hmt||[],function(){var t=document.createElement("script");t.type="text/javascript",t.async="async",t.setAttribute("async","async"),t.src=("https:"==document.location.protocol?"https://":"http://")+"hm.baidu.com/h.js?40044f6f6b2e91544dd4fe0b50a04cef";var e=document.getElementsByTagName("body")[0];e.appendChild(t)}()})),function(t){t.mix(t,{"static":"http://images.jumei.com/mobile/act"})}(Jumei);