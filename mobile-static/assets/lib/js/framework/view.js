define([],function(){var i=Jumei.create({scrollX:0,scrollY:0,controller:null,initialize:function(i){this.iscrollFlag=!0,this.controller=i,this.id=i._module+"_"+i._action,this.param=i._param,this.elem=$(i.view[this.id]),this.height=0,this.windowHeight(),this.onCreate(),this.onEvent(),this.bindEvent(),this.iscroll=null,this.iScroll(),this.onShow(),this.setTitle(),$("body").off("touchmove")},forward:function(i){this.controller.forward.call(this.controller,i)},bindEvent:function(){var i=this.events,t=/^(\S+)\s+(.*)$/,e=null,n=null,o=null;this.unBindEvent();for(var h in i)e=h.match(t),n=e[1],o=e[2],n+="."+this.id,""===o?this.elem.on(n,i[h]):this.elem.on(n,o,i[h])},unBindEvent:function(){this.elem.off("."+this.id)},createDom:function(){},onEvent:function(){},onShow:function(){},onCreate:function(){},onRefresh:function(){},refresh:function(){},title:function(i){$("#header-title").html(i),JMWebView.title.text=i},setTitle:function(){},destroy:function(){this.iscroll.destroy()},hasCurrentView:function(){return this.elem.hasClass("current")?!0:!1},goTop:function(){var i=this;i.elem.find("#toTop").length<=0&&i.elem.append('<div id="toTop"></div>');{var t=i.elem.find("#toTop");$(window).height()}t.off("click"),t.on("click",function(){window.scrollTo(0,0),t.hide()}),$(window).on("scroll",function(){var i=$(window).scrollTop();i>100?t.show():t.hide()})},iScroll:function(){},windowHeight:function(){var i=$(window).height();if($.os.iphone){var t=navigator.userAgent,e=t.match(/.*OS\s*(\d)/);e[1]&&e[1]>6?(this.height=i-=60,this.elem.css("min-height",i+"px"),this.headerHeight=60):(this.height=i-=40,this.elem.css("min-height",i+"px"),this.headerHeight=40)}else this.height=i-=40,this.headerHeight=40,this.elem.attr("style","min-height:"+i+"px")},href:function(i){var t=null;JMWebView.toolbar.status="show",setTimeout(function(){t=null,location.href=i},1500)}});return i});