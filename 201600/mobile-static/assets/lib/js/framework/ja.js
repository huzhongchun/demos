!function(n){var r=Object.prototype.toString,e=Array.prototype.slice,t={errorUrl:"http://f.m.jumeird.com/error/",perforUrl:"http://f.m.jumeird.com/nature/",pageUrl:"http://f.m.jumeird.com/info/",eventUrl:"http://f.m.jumeird.com/event/",samplingRate:100},o=function(n){return function(r,e){return n[r]=function(){return e.apply(n,arguments)},e}},a=function(n,r){var e,t=c(arguments),o=1,i=t.length,a=d(t[i-1]);if(a===!0&&t.pop(),1===i)return n;for(;r=t[o];){for(e in r)!a&&e in n||(n[e]=r[e]);o++}return n},u=function(n){var r=new Image(1,1);r.onload=r.onerror=function(){r=null},r.src=n},d=function(n){return"boolean"==typeof n},f="isArray"in Array?Array.isArray:function(n){return"[object Array]"===r.call(n)},c=function(n){return e.apply(n)};parseToString=function(n){var r="";for(i in n)n.hasOwnProperty(i)&&(r+=""==r?i+"="+enCode(n[i]):"&"+i+"="+enCode(n[i]));return r},trim=function(n){if(!n||""==n)return"";for(;n.charAt(0).length>0&&" \n\r	".indexOf(n.charAt(0))>-1;)n=n.substring(1);for(;n.charAt(n.length-1).length>0&&" \n\r	".indexOf(n.charAt(n.length-1))>-1;)n=n.substring(0,n.length-1);return n},getCookie=function(n){for(var r=document.cookie.split(";"),e="",t="",o="",i=!1,a=0;a<r.length;a++){if(e=r[a].split("="),t=e[0].replace(/^\s+|\s+$/g,""),t==n)return i=!0,e.length>1&&(o=unescape(e[1].replace(/^\s+|\s+$/g,""))),o;e=null,t=""}return i?void 0:null},setCookie=function(n,r,e,t,o,i){var a=new Date;a.setTime(a.getTime()),e&&(e=1e3*e*60*60*24);var u=new Date(a.getTime()+e);document.cookie=n+"="+escape(r)+(e?";expires="+u.toGMTString():"")+(t?";path="+t:"")+(o?";domain="+o:"")+(i?";secure":"")},enCode=function(n){return encodeURIComponent(n)},deCode=function(n){return decodeURIComponent(n)},isEmpty=function(n){return void 0==n||"-"==n||""==n},getRand=function(n){var r="",e=0;for(var t in n)e+=n[t];for(var o in n){var i=Math.random()*e;if(i<=n[o]){r=o;break}e-=n[o]}return r},os=function(){if("wap"===getCookie("platform"))return"wap";var n=navigator.userAgent.toLowerCase();return/android/g.test(n)?"android":/(iphone|ipod|ipad)/g.test(n)?"iphone":"qita"};var s=function(){var n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=function(r,e){var t,o=n,i=[];if(e=e||o.length,r)for(t=0;r>t;t++)i[t]=o[0|Math.random()*e];else{var a;for(i[8]=i[13]=i[18]=i[23]="-",i[14]="4",t=0;36>t;t++)i[t]||(a=0|16*Math.random(),i[t]=o[19==t?3&a|8:a])}return i.join("")},e=function(){for(var r,e=n,t=new Array(36),o=0,i=0;36>i;i++)8==i||13==i||18==i||23==i?t[i]="-":14==i?t[i]="4":(2>=o&&(o=33554432+16777216*Math.random()|0),r=15&o,o>>=4,t[i]=e[19==i?3&r|8:r]);return t.join("")},t=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var r=16*Math.random()|0,e="x"==n?r:3&r|8;return e.toString(16)})};return{uuid:r,uuidFast:e,uuidCompact:t}}(),g={checkHash:function(n){var r,e,t=!1,o=0;if(!isEmpty(n))for(t=!0,r=0;r<n.length;r++)e=n.charAt(r),o+="."==e?1:0,t=t&&1>=o&&(0==r&&"-"==e||".0123456789".indexOf(e)>-1);return t},hash:function(n){var r,e=1,t=0;if(!isEmpty(n))for(e=0,r=n.length-1;r>=0;r--)t=n.charCodeAt(r),e=(e<<6&268435455)+t+(t<<14),t=266338304&e,e=0!=t?e^t>>21:e;return e},random:function(){return Math.round(2147483647*Math.random())}},p={uuid:"",getUuid:function(){return this.uuid},setUuid:function(n){this.uuid=n},getPid:function(){var n=getCookie("_pid");return n?n:""},getDid:function(){var n=getCookie("_did");return n?n:""},getUid:function(){var n=getCookie("uid");return n?n:""},initUuid:function(){var n=getCookie("_jmuuid")||"";(null==n||"undefined"==n||""==n)&&(n=s.uuidFast()+"-"+(new Date).getTime(),setCookie("_jmuuid",n,730,"/")),this.setUuid(n)},getClientId:function(){return Math.random()^2147483647&p.hashClientInfo()},hashClientInfo:function(){for(var n=window.history.length,r=navigator.appName+navigator.version+window.language+navigator.platform+navigator.userAgent+window.javaEnabled+window.screen+window.colorDepth+(document.cookie?document.cookie:"")+(document.referrer?document.referrer:""),e=r.length;n>0;)r+=n--^e++;return g.hash(r)}},l={errorBaseInfo:function(){var n={};return n.jmuuid=p.getUuid(),n.did=p.getDid(),n.uid=p.getUid(),n.sn=window.screen.width+"*"+window.screen.height,n.ua=navigator.userAgent?navigator.userAgent.toLowerCase():"",n.url=document.URL||"",n.ref=document.referrer||"",n.la=navigator.language?navigator.language.toLowerCase():"",n},performance:function(){var n=window.performance?window.performance:window.webkitPerformance?window.webkitPerformance:window.msPerformance,r=n.timing,e={};return n&&r&&(e.red=r.redirectEnd-r.redirectStart,e.dns=r.domainLookupEnd-r.domainLookupStart,e.tcp=r.connectEnd-r.connectStart,e.req=r.responseStart-r.requestStart,e.res=r.responseEnd-r.responseStart,e.dom=r.domContentLoadedEventEnd-r.domLoading),e},analysisBaseInfo:function(){var n={};return n.jmuuid=p.getUuid(),n.did=p.getDid(),n.uid=p.getUid(),n.p=document.URL||"",n.pid=p.getPid(),n.os=os(),n}},m=function(){var n=t.samplingRate,r=100-t.samplingRate,e=getRand({"true":n,"false":r});return"true"===e?!0:!1}(),v=function(){var n=this,r=o(n);n.trackEvent=r("_trackEvent",function(n,r,e){var o=l.analysisBaseInfo(),i={},d="",f="";i.id=n?n:"",i.r=r?r:"",i.data=e?e:"",d=a(i,o),f=parseToString(i),u(t.eventUrl+"?"+f)}),n.pageEvent=r("_pageEvent",function(){var n=l.analysisBaseInfo(),r={},e={},o="";r.f_p=document.referrer||"",e=a(n,r),o=parseToString(e),u(t.pageUrl+"?"+o)}),n.pageEvent=r("_perforEvent",function(){if(m){var n=l.errorBaseInfo(),r=l.performance(),e=a(n,r),o=parseToString(e);u(t.perforUrl+"?"+o)}}),n.errorEvent=r("_errorEvent",function(n,r,e,o){if(m){var i=l.errorBaseInfo(),d={},r="",f={};d.msg=n,d.fl=r,d.le=e,d.lv=o,f=a(d,i),r=parseToString(f),u(t.errorUrl+"?"+r)}}),n.setPid=r("_setPid",function(n){setCookie("pid",n,730,"/")})},h=function(){var n=this;n.push=function(){try{for(var n=arguments,r=n.length,e=0;r>e;e++)if("function"==typeof n[e])n[e]();else{var t="",o=n[e][0],i=o,a=o.lastIndexOf(".");a>0&&(t=o[_substring](0,a),i=o[_substring](a+1));var u=w;u[i].apply(u,n[e].slice(1))}}catch(d){}}},w=new v;p.initUuid();var x=null;if(n._jaq&&f(n._jaq)&&(x=_jaq),n._jaq=new h,x&&f(x))for(var y=0,C=x.length;C>y;y++)_jaq.push(x[y]);window._jaq.push(["_pageEvent"]),window._jaq.push(["_perforEvent"])}(window);