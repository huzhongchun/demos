function calldevice(fuc,parm,val){var agent=navigator.userAgent;agent.indexOf("iPhone")>-1&&Jumei.checkPlatformWap()!==!0?window.location.href="jmweb://"+fuc+"?"+parm+"="+val:(fuc="JMWebViewAndroid."+fuc+"(val)",fuc=eval(fuc))}var JMWebView={_Bounce:!1,set bounce(t){calldevice("setWebViewBounce","bounce",t),this._Bounce=t},get bounce(){return this._Bounce}};JMWebView.toolbar={_Status:"hidden",_Color:"ffffff",_Share:"hidden",set status(t){calldevice("setToolbarStatus","toolbarstatus",t),this._Status=t},get status(){return this._Status},set color(t){this._Color=t,calldevice("setToolbarColor","toolbarcolor",t)},get color(){return this._Color},set share(t){calldevice("setToolbarShare","toolbarshare",t),this._Status=t},get share(){return this._Status}},JMWebView.title={_Status:"hidden",_Text:"title",_Color:"ffffff",set status(t){calldevice("setTitlebarStatus","titlebarstatus",t),this._Status=t},get status(){return this._Status},set text(t){this._Text=t,calldevice("setTitleText","titletext",t)},get text(){return this._Text},set color(t){this._Color=t,calldevice("setTitleColor","titlecolor",t)},get color(){return this._Color}},JMWebView.spinner={_Status:"hidden",set status(t){calldevice("setSpinnerStatus","spinnerstatus",t),this._Status=t},get status(){return this._Status}},JMWebView.close=function(){var t=navigator.userAgent;t.indexOf("iPhone")>-1&&Jumei.checkPlatformWap()!==!0?window.location.href="jmweb://closeWebView":JMWebViewAndroid.closeWebView()};var Jumei=function(t,e){var n=this,i=Array.prototype.slice,o=Object.prototype,a=(o.toString,t.document),r=function(t,e,n){return $.isPlainObject(t)?"enumerable"in t||(t.enumerable=!0):t=e[n]={value:t,enumerable:!0,writable:!0},t},c=Object.getOwnPropertyNames(Function),l={version:"0.0.1",global:n,scale:e,getScale:function(){return l.scale},setScale:function(t){l.scale=t},makeArray:function(t){return i.call(t)},mix:function(t,e){var n,i=l.makeArray(arguments),o=1,a=i.length,r=$.isBoolean(i[a-1]);if(r===!0&&i.pop(),1===a)return t;for(;e=i[o];){for(n in e)!r&&n in t||(t[n]=e[n]);o++}return t},ready:function(t){try{/complete|loaded|interactive/.test(a.readyState)?t.call($):a.addEventListener("DOMContentLoaded",function(){t.call($)},!1)}catch(e){l.log(e)}},cache:function(){var t={},e=0,n="_gid";return function(i,o,a){var r=i[n]||(i[n]=++e),c=t[r]||(t[r]={});return void 0!==a&&(c[o]=a),null===a&&delete c[o],c[o]}}(),log:function(t,e){var n,i,o=t.stack,a=o.match(/http:.*\s/);e=e||1,a&&(n=a[0].replace(/(:\d+)?:\d+/gi,""),i=a[0].match(/:(\d+):/),i=i[1]),msg=t.message;var r=r||[];r.push(["_errorEvent",msg,n,i,e])}};return l.mix(l,{create:function(t,e){try{if(1===arguments.length&&(e=t,t=Object),"function"!=typeof t)throw new Error("继承类必须是function");var n=t.prototype,i=e.statics;delete e.statics,Object.keys(e).forEach(function(t){var i=r(e[t],e,t);if($.isFunction(i.value)&&$.isFunction(n[t])){var o=function(){return n[t].apply(this,arguments)},a=function(e){return n[t].apply(this,e)},c=i.value;i.value=function(){var t=this._super,e=this._superApply;this._super=o,this._superApply=a;var n=c.apply(this,arguments);return this._super=t,this._superApply=e,n}}});var o=function(){this.init.apply(this,arguments)};o.prototype=Object.create(n,e),o.prototype.constructor=o,$.isFunction(o.prototype.init)===!1&&(o.prototype.init=function(){t.apply(this,arguments)}),Object!==t&&Object.getOwnPropertyNames(t).forEach(function(e){-1===c.indexOf(e)&&Object.defineProperty(o,e,Object.getOwnPropertyDescriptor(t,e)||{})}),$.isPlainObject(i)&&Object.keys(i).forEach(function(t){-1===c.indexOf(t)&&Object.defineProperty(o,t,r(i[t],i,t))})}catch(a){l.log(a)}return Object.freeze?Object.freeze(o):o}}),l.mix(l,{module:{},addModule:function(t,e){return t&&"string"==typeof t?l.register(t,e):void 0},use:function(t,e,n){var i=l.getModule(t);$.isFunction(i)?i.call(i,i,l.global,n):i.init&&i.init(),e&&l.ready(function(){e.call(i,i,l.global,n)})},register:function(t,e){if(!t||!t.length)return null;for(var n=t.split("."),i=l.module,o=null,a=0;a<n.length;++a)i[n[a]]=i[n[a]]||{},a==n.length-1&&(i[n[a]]=e),o=i,i=i[n[a]];return new Function("return Jumei.module."+t)()},getModule:function(t){if(!t||!t.length)return null;try{return new Function("return Jumei.module."+t)()}catch(e){l.log(e)}},getInstance:function(t,e){if(l.cache(t,"instance"))return l.cache(t,"instance").constructor(e),l.cache(t,"instance");var n=new t(e);return l.cache(t,"instance",n),n}}),t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}(),l}(window,function(){var t=1,e=document.getElementById("wrapper"),n=document.getElementsByTagName("body")[0],i=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth,o=navigator.userAgent.toLowerCase();return o.match(/(iphone|ipod|ipad|android|windows\s*phone|symbianos)/)?(window.localStorage&&window.localStorage.getItem("jumei_scale_weidian")?t=window.localStorage.getItem("jumei_scale_weidian"):(t=parseFloat(i/320),$(window).height()>$(window).width()?window.localStorage&&window.localStorage.setItem("jumei_scale_weidian",t):$(window).on("ortchange",function(){$(window).height()>$(window).width()&&(i=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth,t=parseFloat(i/320),e.style.zoom=t,n.style.display="block",window.localStorage&&window.localStorage.setItem("jumei_scale_weidian",t))})),e&&(e.style.zoom=t,n.style.display="block")):($(window).resize(function(){i=document.documentElement&&document.documentElement.clientWidth||document.body.clientWidth||window.innerWidth,t=parseFloat(i/320),e&&(e.style.zoom=t,n.style.display="block")}),e&&(t=parseFloat(i/320),e.style.zoom=t,n.style.display="block")),t}());!function(t,e){var n=function(){},o=Array.prototype.slice,a=t.create({statics:{name:"widgetBase"},init:function(t){this.options=this.options||{},this.element=e(t.element)||{},e.isString(t)||(this._setOption(t),this._create())},_setElement:function(t){this.element=t},_getElement:function(){return this.element},_setOption:function(e){t.mix(this.options,e,!0)},_getOption:function(){return this.options},_factory:function(e,n){try{this[e].apply(this,n)}catch(i){t.log(i)}},_destroy:n,_create:n,_init:n});t.mix(t,{"static":"http://images.jumei.com/mobile/act",parseTpl:function(t,e){var n="var __p=[];with(obj||{}){__p.push('"+t.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(t,e){return"',"+e.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(t,e){return"');"+e.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',i=new Function("obj",n);return e?i(e):i},widget:function(n,i,o){var r;return r=o&&e.isFunction(o)?t.create(o,i):t.create(a,i),t.addModule(n,r),t.zeptoFn(n,r),r},zeptoFn:function(t,n){var i=t.substring(0,1).toLowerCase()+t.substring(1),a=e.fn[i];i.indexOf("ui.")>-1&&(i=i.replace("ui.","")),e.fn[i]=function(t){var a,r,c=o.call(arguments,1),l="string"==typeof t&&t;return e.each(this,function(){if(e(this).data(i)?(r=e(this).data(i),e.isString(l)||(r._setOption(t),r._create(t))):(t=t||{},t.element=t.element?t.element:this,r=new n(t),e(this).data(i,r)),"this"===l)return a=r,!1;if(l){if(r._factory(l,c),void 0!==a&&a!==r)return!1;a=void 0}}),void 0!==a?a:this},e.fn[i].noConflict=function(){return e.fn[i]=a,this}}}),t.mix(t,{setCookie:function(t,e,n,i,o,a){var r=new Date,c=new Date(r.getTime()+n);r.setTime(r.getTime()),n&&(n=1e3*n*60*60*24),document.cookie=t+"="+escape(e)+(n?";expires="+c.toGMTString():"")+(i?";path="+i:"")+(o?";domain="+o:"")+(a?";secure":"")},getCookie:function(t){for(var e=document.cookie.split(";"),n="",i="",o="",a=!1,r=0;r<e.length;r++){if(n=e[r].split("="),i=n[0].replace(/^\s+|\s+$/g,""),i==t)return a=!0,n.length>1&&(o=unescape(n[1].replace(/^\s+|\s+$/g,""))),o;n=null,i=""}return a?void 0:null},changeScheme:function(t,n){n="undefined"!=typeof n?n:"href";for(var i=this,o=0;o<e(t).length;o++){var a=e(e(t)[o]).attr(n);e(e(t)[o]).attr(n,i.jumeimall2http(a))}},jumeimall2http:function(t){var e=location.search;e=e.replace("?","");var n=["label","partnerid","hash_id","hashid","brandid","productid"],o="",a="";for(i=0;i<n.length;i++)if(-1!=t.indexOf(n[i])){o=n[i];break}var r=new RegExp("\\?"+o+"=(.*)\\b"),c=t.match(r)?t.match(r)[1]:"",l=t.split(c)[0],u={"jumeimall://page/pop/list?partnerid=":"http://m.jumei.com/i/MobileWap/pop_list?t_lang=touch&partner_id=","jumeimall://page/deallist?label=":"http://m.jumei.com/i/mobilewap/activity_view?type=deal&t_lang=touch&label=","jumeimall://page/malllist?label=":"http://m.jumei.com/i/mobilewap/activity_view/?type=mall&t_lang=touch&label=","jumeimall://page/detail?hashid=":"http://m.jumei.com/i/MobileWap/deal_view?hash_id=","jumeimall://page/detail?productid=":"http://m.jumei.com/i/MobileWap/mall_view?product_id=","jumeimall://page/mall/flagship?brandid=":"http://m.jumei.com/products/"};return u[l]?(a=u[l]+c,""!==e&&(a=a.indexOf("?")>-1?a+"&"+e:a+"?"+e)):a="http://s.m.jumei.com/pages/941","jumeimall://page/mall/flagship?brandid="==l&&(a=u[l]+c+"-0-0.html?type=2"),this.checkPlatformWap()?a:t},getQueryString:function(t,e){var n=new RegExp(e+"=(\\w+)\\b"),i=t.match(n);return null!==i?unescape(i[1]):null},checkPlatformWap:function(){var t=this.getQueryString(window.location.href,"platform");return"wap"==t?!0:!1},addWap:function(t){if(this.checkPlatformWap()){var n=location.search;e(t).each(function(){var t=e(this).attr("href");t.indexOf("?")>-1?t=t.replace("?",n+"&"):t.indexOf("#")>-1?t=t.replace("#",n+"#"):t+=n,e(this).attr("href",t)})}},os:function(){if(this.checkPlatformWap()===!0)return"wap";var t=navigator.userAgent.toLowerCase();return/android/g.test(t)?"android":/(iphone|ipod|ipad)/g.test(t)?"iphone":"qita"},ja:function(){var t=["_trackEvent"],n=[];if(arguments.length>0){n=arguments&&e.isArray(arguments[0])?arguments[0]:arguments;for(var i=0;i<n.length;i++)if(3>i)if(0===i){var o=this.os();t.push(n[i]+"_"+o)}else t.push(n[i]);else Jumei.log("ga 多余参数"+arguments[i]);window._gaq=window._gaq||[],window._jaq=window._jaq||[],window._hmt=window._hmt||[],window._gaq.push(t),window._jaq.push(t),window._hmt.push(t)}}})}(Jumei,$,$(function(){window._gaq=window._gaq||[],window._gaq.push(["_setAccount","UA-10208510-2"]),window._gaq.push(["_trackPageview"]),function(){var t=document.createElement("script");t.type="text/javascript",t.setAttribute("async","async"),t.src=("https:"==document.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var e=document.getElementsByTagName("body")[0];e.appendChild(t)}(),window._hmt=window._hmt||[],function(){var t=document.createElement("script");t.type="text/javascript",t.async="async",t.setAttribute("async","async"),t.src=("https:"==document.location.protocol?"https://":"http://")+"hm.baidu.com/h.js?40044f6f6b2e91544dd4fe0b50a04cef";var e=document.getElementsByTagName("body")[0];e.appendChild(t)}()}));